var F=Object.defineProperty,L=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var C=(s,t,a)=>t in s?F(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,S=(s,t)=>{for(var a in t||(t={}))P.call(t,a)&&C(s,a,t[a]);if(j)for(var a of j(t))A.call(t,a)&&C(s,a,t[a]);return s},b=(s,t)=>L(s,O(t));import{j as G,r as o,R as I,a as R}from"./vendor.ba628812.js";const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}};k();const _=[{id:1,url:"/img/memo-01.jpg"},{id:2,url:"/img/memo-02.jpg"},{id:3,url:"/img/memo-03.jpg"},{id:4,url:"/img/memo-04.jpg"},{id:5,url:"/img/memo-05.jpg"},{id:6,url:"/img/memo-06.jpg"},{id:7,url:"/img/memo-07.jpg"},{id:8,url:"/img/memo-08.jpg"},{id:9,url:"/img/memo-09.jpg"},{id:10,url:"/img/memo-10.jpg"}],E=[..._,..._],$=s=>{let t=s.length,a;for(;t!=0;)a=Math.floor(Math.random()*t),t--,[s[t],s[a]]=[s[a],s[t]];return s},e=G.exports.jsx,l=G.exports.jsxs,N=o.exports.createContext({}),W=({children:s})=>{o.exports.useEffect(()=>{const m=localStorage.getItem("scores");v(JSON.parse(m)||[])},[]);const t=E.length/2,[a,n]=o.exports.useState(!1),[r,c]=o.exports.useState(null),[i,u]=o.exports.useState(null),[h,g]=o.exports.useState(0),[w,f]=o.exports.useState(0),[d,p]=o.exports.useState([]),[x,v]=o.exports.useState([]),M={firstCard:r,secondCard:i,setFirstCard:c,setSecondCard:u,movements:h,addMovements:()=>g(m=>m+1),resetGame:()=>{r&&r.currentTarget.classList.remove("card--show"),i&&i.currentTarget.classList.remove("card--show"),c(null),u(null),g(0),f(0),n(!1),window.document.querySelectorAll(".card__container").forEach(m=>{m.classList.remove("card--show","card--guessed")})},addGuessed:()=>f(m=>m+1),addScore:m=>{const y=x||[];localStorage.setItem("scores",JSON.stringify([...y,{name:m,score:h}])),v(Z=>[...y,{name:m,score:h}])},guessed:w,guessedImages:d,addGuessedIdImage:m=>{p(y=>[...y,m])},scores:x,playGame:a,setPlayGame:n,GUESSED_TO_WIN:t};return e(N.Provider,{value:M,children:s})},D=()=>{const{movements:s,resetGame:t}=o.exports.useContext(N);return l("header",{className:"lines-title row col-12 d-flex align-items-center justify-content-between px-2 py-3",children:[l("div",{className:"d-flex flex-row align-items-center justify-content-between col-9",children:[l("h2",{className:"fs-3",children:["\u{1F441}\uFE0F ",e("span",{className:"text-shadow-white",children:"Intentos:"})]}),l("strong",{className:"fs-3 text-shadow-white",children:["0",s]})]}),e("div",{className:"d-flex align-items-center justify-content-end col-3",children:e("button",{className:"btn btn-purple-light",onClick:t,children:"Reiniciar"})})]})},B=()=>{const{scores:s}=o.exports.useContext(N),[t,a]=o.exports.useState(s);return o.exports.useEffect(()=>{const n=s.slice(0,10);a(n.sort((r,c)=>r.score-c.score))},[s]),l("article",{className:"col-12 m-0 p-0 d-flex flex-column align-items-start justify-content-start",children:[e("div",{className:"w-100 d-flex align-items-center justify-content-center lines-title py-3",children:l("h1",{className:"fs-3",children:[e("span",{className:"text-shadow-white",children:"Memory"}),e("span",{className:"text-purple-light text-shadow-purple-light",children:"Game"})," \u{1F9E0}"]})}),l("section",{className:"position-relative row m-0 p-0 scores my-5",children:[l("h2",{className:"fs-4 m-0 p-0 mb-3",children:["\u{1F451} ",e("span",{className:"text-shadow-white",children:"Puntajes:"})]}),l("table",{className:"scores__table col-12",children:[e("thead",{className:"w-100",children:l("tr",{children:[e("th",{className:"fw-bold fs-5 text-shadow-white",children:"#"}),e("th",{className:"fw-bold fs-5 text-shadow-white",children:"Name"}),e("th",{className:"fw-bold fs-5 text-shadow-white",children:"Points"})]})}),e("tbody",{className:"w-100 ",children:t.length?t.map((n,r)=>l("tr",{className:"lines-title py-5",children:[e("td",{className:"text-shadow-white fw-bold fs-6",children:r+1}),e("td",{className:"fs-6",children:n.name}),e("td",{className:"fs-6",children:n.score})]},r)):e("tr",{children:e("p",{className:"w-100 py-4 fw-light text-shadow-white fs-6",children:"There is no scores save yet! Be the first! \u{1F680}"})})})]})]})]})};const J=({id:s,number:t,url:a})=>{const{firstCard:n,setFirstCard:r,secondCard:c,setSecondCard:i,addMovements:u,addGuessed:h,addGuessedIdImage:g,guessedImages:w}=o.exports.useContext(N);function f(d,p){if(w.some(x=>x===s))return!0;if(!n)return d.currentTarget.classList.add("card--show"),r(b(S({},p),{number:t,ev:d,currentTarget:d.currentTarget})),!0;if(n&&n.number===t)return r(null),d.currentTarget.classList.remove("card--show"),!0;if(n&&!c){if(i(b(S({},p),{number:t,ev:d})),d.currentTarget.classList.add("card--show"),u(),n.id===p.id)return h(),g(s),r(null),i(null),n.currentTarget.classList.add("card--guessed"),d.currentTarget.classList.add("card--guessed"),!0;{const x=d.currentTarget;setTimeout(()=>{n.currentTarget.classList.remove("card--show"),x.classList.remove("card--show"),r(null),i(null)},1200)}}}return l("article",{className:"card__container",onClick:d=>f(d,{id:s,number:t,url:a}),children:[e("div",{className:"d-flex align-items-center justify-content-center position-absolute card card__front",children:e("figure",{className:"card__front-image",children:e("img",{src:a,alt:`This images is ${a}`})})}),e("div",{className:"d-flex align-items-center justify-content-center w-100 h-100 position-absolute card card__back",children:e("span",{className:"fw-bold fs-5 text-shadow-white",children:t})})]})};const q=({cards:s})=>e("section",{className:"cards-grid",children:s.map((t,a)=>e(J,{id:t.id,number:a+1,url:t.url},a))});const U=({title:s,message:t,onClick:a,action:n,danger:r=!1})=>l("article",{className:"row modal-message bg-white p-3",children:[e("h2",{children:s}),e("p",{children:t}),e("div",{className:"col-12 d-flex align-items-center justify-content-end",children:e("button",{onClick:a,className:`btn ${r?"btn-danger":"btn-purple-light"}`,children:n})})]}),H=({title:s,message:t,onClick:a,action:n,setName:r,currName:c})=>l("article",{className:"row modal-message bg-white p-3",children:[e("h2",{children:s}),e("p",{children:t}),e("input",{className:"form-control",placeholder:"Write your name",type:"text",name:"name",onChange:u=>{r(u.target.value)}}),e("div",{className:"col-12 d-flex align-items-center justify-content-end py-5",children:e("button",{onClick:a,className:"btn btn-purple-light",disabled:!c.length,children:n})})]}),T=({children:s})=>I.createPortal(e("section",{className:"d-flex align-items-center justify-content-center w-100 h-100 modal",children:s}),document.getElementById("modal"));const K=()=>{const{playGame:s,setPlayGame:t,GUESSED_TO_WIN:a,guessed:n,movements:r,addScore:c,resetGame:i}=o.exports.useContext(N),[u,h]=o.exports.useState([]),[g,w]=o.exports.useState(""),f=()=>{t(!0)},d=()=>{c(g),h([]),i()};return o.exports.useEffect(()=>{const p=$(E);h(p)},[u,s]),l("section",{className:"row w-100 memory-game bg-purple px-5 py-3 m-0",children:[l("article",{className:"col-12 col-md-8 p-4",children:[e(D,{}),e("div",{className:"py-4",children:e(q,{cards:u})})]}),e("aside",{className:"position-realtive row d-flex align-items-start justify-content-start col-12 col-md-4 p-4",children:e(B,{})}),!s&&e(T,{children:e(U,{title:"MemoryGame \u{1F9E0}",message:"Welcome to the memory game, ready to start?",action:"Play \u{1F680}",onClick:f})}),a===n&&e(T,{children:e(H,{title:"Congratulations \u{1F389}",message:`You win the game with ${r}! \u{1F680}`,action:"Save \u{1F9E0}",currName:g,setName:w,onClick:d})})]})};I.render(e(W,{children:e(R.StrictMode,{children:e(K,{})})}),document.getElementById("root"));
